{% extends "base.html" %}

{% block title %}Moderate Comments - My Tech Blog{% endblock %}

{% block content %}
<h2>Moderate Comments</h2>

{% if comments %}
    <ul>
        {% for comment in comments %}
            <li>
                <strong>{{ comment.username }}</strong>: {{ comment.content }} <br>
                <em>Posted on: {{ comment.timestamp }}</em>
                <form method="POST" action="{{ url_for('delete_comment') }}" style="display:inline;">
                    <input type="hidden" name="username" value="{{ comment.username }}">
                    <input type="hidden" name="post_id" value="{{ comment.post_id }}">
                    <input type="hidden" name="content" value="{{ comment.content }}">
                    <button type="submit" onclick="return confirm('Are you sure you want to delete this comment?');">Delete Comment</button>
                </form>
            </li>
        {% endfor %}
    </ul>
{% else %}
    <p>No comments to moderate.</p>
{% endif %}
{% endblock %}
