{% extends "base.html" %}

{% block title %}Admin Panel - My Tech Blog{% endblock %}

{% block content %}
<h2>Admin Panel</h2>
<form class="post-form" method="POST" action="{{ url_for('admin') }}">
    <label for="title">Post Title:</label>
    <input type="text" id="title" name="title" required>

    <label for="content">Post Content (Markdown):</label>
    <textarea id="content" name="content" rows="10" required></textarea>

    <button type="submit">Create Post</button>
</form>

<h2>Existing Posts</h2>
<ul>
    {% for post in posts %}
        <li>
            <a href="{{ url_for('view_post', post_id=post.id) }}">{{ post.title }}</a>
            <form method="POST" action="{{ url_for('delete_post', post_id=post.id) }}" style="display:inline;">
                <button type="submit" onclick="return confirm('Are you sure you want to delete this post?');">Delete</button>
            </form>
        </li>
    {% endfor %}
</ul>


<h2>Moderate comments</h2>
<ul>
    <a href="{{ url_for('moderate_comments') }}">Moderate comments</a>
</ul>
{% endblock %}